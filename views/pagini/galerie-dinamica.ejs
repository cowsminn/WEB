<!DOCTYPE html>
<html lang="ro">
<head>
    <%- include('../fragmente/head', { titlu: 'Galerie Dinamică - ElectroDelicii' }) %>
    <meta name="description" content="Galerie animată cu produse electronice vintage din targurile din Bucuresti">
    <meta name="keywords" content="galerie dinamica, animata, electronice vintage, antichitati, targuri Bucuresti">
    <link rel="stylesheet" href="/src/css/galerie-animata.css" type="text/css"/>
</head>
<body>
    <%- include('../fragmente/header') %>
    
    <main class="container my-4">
        <h1 class="galerie-animata-titlu">Galerie Dinamică</h1>
        <p class="text-center">Galerie animată cu <%= galerieAnimata.numarImagini %> imagini selectate aleator</p>
        
        <!-- Galerie animată doar pe desktop -->
        <div class="galerie-animata">
                    <!-- Galerie animată doar pe desktop -->
            <div class="d-none d-lg-block">
                <div class="galerie-container">

            <div class="galerie-grid imagini-<%= galerieAnimata.numarImagini %>">
                <% galerieAnimata.imagini.forEach((imagine, index) => { %>
                    <img src="<%= galerieAnimata.cale_galerie %>/<%= imagine.cale_imagine %>" 
                         alt="<%= imagine.alt %>" 
                                                          class="galerie-imagine imagine-<%= index + 1 %>"
                         title="<%= imagine.titlu %>">
                <% }); %>
                                    </div>

            </div>
        </div>
        
        <!-- Galerie statică pe tablet și mobil -->
        <div class="d-lg-none">
            <div class="row">
                <% galerieAnimata.imagini.slice(0, 6).forEach(imagine => { %>
                    <div class="col-6 col-md-4 mb-3">
                        <img src="<%= galerieAnimata.cale_galerie %>/<%= imagine.cale_imagine %>" 
                             alt="<%= imagine.alt %>" 
                             class="img-fluid rounded"
                             title="<%= imagine.titlu %>">
                    </div>
                <% }); %>
                                </div>

            </div>
        </div>
        
                <!-- Informații despre galerie doar pe desktop -->
        <div class="galerie-info d-none d-lg-block text-center mt-3">
            <p><small>Galeria se reîncarcă automat cu un număr aleator de imagini la fiecare vizită.</small></p>
            <p><small>Treceți cursorul peste galerie pentru a opri animația.</small></p>
        </div>
    </main>

    <%- include('../fragmente/footer') %>
    
    <!-- Script pentru meniul burger -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.querySelector('#variante-meniu .menu-toggle');
        const menuSecundar = document.querySelector('#variante-meniu .menu-secundar');
        
        if (menuToggle) {
            menuToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                menuSecundar.classList.toggle('active');
            });
        }
        
        const menuItems = document.querySelectorAll('.menu-secundar a.has-submenu');
        
        menuItems.forEach(function(item) {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                this.classList.toggle('submenu-open');
                
                let nextElement = this.nextElementSibling;
                const submenuItems = [];
                
                while (nextElement && nextElement.classList.contains('submenu-item')) {
                    submenuItems.push(nextElement);
                    nextElement = nextElement.nextElementSibling;
                }
                
                submenuItems.forEach(function(submenuItem) {
                    if (submenuItem.classList.contains('show')) {
                        submenuItem.classList.remove('show');
                    } else {
                        submenuItem.classList.add('show');
                    }
                });
            });
        });
        
        window.addEventListener('resize', function() {
            if (window.innerWidth > 700) {
                if (menuToggle) menuToggle.classList.remove('active');
                if (menuSecundar) menuSecundar.classList.remove('active');
            }
        });
    });
    </script>
</body>
</html>
